<div class="enhavo" data-ng-init="init()">
  <h2>Redaktante kotizojn por {{grupo.nomo}}</h2>
  <table class="table">
    <thead>
      <tr>
        <td>Lando</td>
        <td>Prezo</td>
        <td>Monero</td>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="lando in landoj | orderBy:'radikoEo'"
          ng-init="kotizo = getKotizo(lando)">
          <td>{{lando.radikoEo}}{{lando.finajxoEo}}</td>

          <td ng-if="kotizo">
            <a href="#"
               editable-number="kotizo.prezo"
               e-step="any"
               onbeforesave="updateKotizo(kotizo.id, $data, 'prezo')">
               {{kotizo.prezo}}
            </a>
          </td>

          <td ng-if="kotizo">
            <a href="#"
               editable-text="kotizo.monero"
               onbeforesave="updateKotizo(kotizo.id, $data * 100, 'monero')">
               {{kotizo.monero}}
             </a>
          </td>

          <td ng-if="!kotizo" colspan="2">
            <form class="form-inline" ng-submit="postKotizo(lando.id)">
              <div class="form-group">
                <label for="prezo">Prezo</label>
                <input type="number"
                       step="0.01"
                       id="prezo"
                       class="form-control"
                       ng-model="novKotizo[lando.id].prezo">
              </div>

              <div class="form-group">
                <label for="monero">Monero</label>
                <input type="monero"
                       id="monero"
                       class="form-control"
                       maxlength="3"
                       ng-model="novKotizo[lando.id].monero">
              </div>

              <button type="submit" class="btn btn-default">Aldoni</button>
            </form>
          </td>
      </tr>
    </tbody>
  <table>
</div>
